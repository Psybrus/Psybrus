<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: RakNet::Lobby2Server Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceRakNet.html">RakNet</a>::<a class="el" href="classRakNet_1_1Lobby2Server.html">Lobby2Server</a>
  </div>
</div>
<div class="contents">
<h1>RakNet::Lobby2Server Class Reference<br>
<small>
[<a class="el" href="group__LOBBY__2__SERVER.html">Lobby2Server</a>]</small>
</h1><!-- doxytag: class="RakNet::Lobby2Server" --><!-- doxytag: inherits="RakNet::Lobby2Plugin,ThreadDataInterface" -->The base class for the lobby server, without database specific functionality.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;Lobby2Server.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for RakNet::Lobby2Server:</div>
<div class="dynsection">

<p><center><img src="classRakNet_1_1Lobby2Server.png" usemap="#RakNet::Lobby2Server_map" border="0" alt=""></center>
<map name="RakNet::Lobby2Server_map">
<area href="classRakNet_1_1Lobby2Plugin.html" alt="RakNet::Lobby2Plugin" shape="rect" coords="0,56,188,80">
<area href="classRakNet_1_1PluginInterface2.html" alt="RakNet::PluginInterface2" shape="rect" coords="0,0,188,24">
<area href="classRakNet_1_1Lobby2Server__PGSQL.html" alt="RakNet::Lobby2Server_PGSQL" shape="rect" coords="0,168,188,192">
</map>
</div>

<p>
<a href="classRakNet_1_1Lobby2Server-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRakNet_1_1Lobby2Server_1_1ConfigurationProperties.html">ConfigurationProperties</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Server configuration properties, to customize how the server runs specific commands.  <a href="structRakNet_1_1Lobby2Server_1_1ConfigurationProperties.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#6a8918f9399834397ca99882846587b8">ConnectToDB</a> (const char *conninfo, int numWorkerThreads)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connect to the database <em>numWorkerThreads</em> times using the connection string.  <a href="#6a8918f9399834397ca99882846587b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#533aac181789e75173beb4a365ca1889">SendMsg</a> (<a class="el" href="structRakNet_1_1Lobby2Message.html">Lobby2Message</a> *msg, const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &gt; &amp;recipients)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="structRakNet_1_1Lobby2Message.html" title="A Lobby2Message encapsulates a networked function call from the client.">Lobby2Message</a> encapsulates a user command, containing both input and output data.  <a href="#533aac181789e75173beb4a365ca1889"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#3db350e8d2e35e6a40f43ee4026bff20">ExecuteCommand</a> (<a class="el" href="structRakNet_1_1Lobby2ServerCommand.html">Lobby2ServerCommand</a> *command)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a command, which contains a message and other data such as who send the message.  <a href="#3db350e8d2e35e6a40f43ee4026bff20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#499cbfd420d6a6caecd62a8143a641da">AddAdminAddress</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If <a class="el" href="structRakNet_1_1Lobby2Message.html#79cbb400e4521af2c353fbd640fed0f7">Lobby2Message::RequiresAdmin()</a> returns true, the message can only be processed from a remote system if the sender's system address is first added().  <a href="#499cbfd420d6a6caecd62a8143a641da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="27ce393bde81f54fbf6c64763a5e5eea"></a><!-- doxytag: member="RakNet::Lobby2Server::HasAdminAddress" ref="27ce393bde81f54fbf6c64763a5e5eea" args="(const DataStructures::List&lt; SystemAddress &gt; &amp;addresses)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#27ce393bde81f54fbf6c64763a5e5eea">HasAdminAddress</a> (const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &gt; &amp;addresses)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If <a class="el" href="classRakNet_1_1Lobby2Server.html#499cbfd420d6a6caecd62a8143a641da" title="If Lobby2Message::RequiresAdmin() returns true, the message can only be processed...">AddAdminAddress()</a> was previously called with <em>addr</em> then this returns true. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4d2add6952f20f6ff7444c1376458ece"></a><!-- doxytag: member="RakNet::Lobby2Server::RemoveAdminAddress" ref="4d2add6952f20f6ff7444c1376458ece" args="(SystemAddress addr)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#4d2add6952f20f6ff7444c1376458ece">RemoveAdminAddress</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a system address previously added with <a class="el" href="classRakNet_1_1Lobby2Server.html#499cbfd420d6a6caecd62a8143a641da" title="If Lobby2Message::RequiresAdmin() returns true, the message can only be processed...">AddAdminAddress()</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bec3acc15650d41abe4d7c1d60841fbb"></a><!-- doxytag: member="RakNet::Lobby2Server::ClearAdminAddresses" ref="bec3acc15650d41abe4d7c1d60841fbb" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#bec3acc15650d41abe4d7c1d60841fbb">ClearAdminAddresses</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes all system addresses previously added with <a class="el" href="classRakNet_1_1Lobby2Server.html#499cbfd420d6a6caecd62a8143a641da" title="If Lobby2Message::RequiresAdmin() returns true, the message can only be processed...">AddAdminAddress()</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#16a9ef14b0c08f5c01745908666064d5">AddRankingAddress</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If <a class="el" href="structRakNet_1_1Lobby2Message.html#3eab67e30f491cd3410b9d850ffcecea">Lobby2Message::RequiresRankingPermission()</a> returns true, then the system that sent the command must be registered with <a class="el" href="classRakNet_1_1Lobby2Server.html#16a9ef14b0c08f5c01745908666064d5" title="If Lobby2Message::RequiresRankingPermission() returns true, then the system that...">AddRankingAddress()</a>.  <a href="#16a9ef14b0c08f5c01745908666064d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#d72697445e87c271d0edbf1f9ecab1aa">HasRankingAddress</a> (const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &gt; &amp;addresses)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#29356d89b8170173ee25de6a355b276e">RemoveRankingAddress</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> addr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="785c9ffb6d2579a3f49836a66bf7b4c2"></a><!-- doxytag: member="RakNet::Lobby2Server::ClearRankingAddresses" ref="785c9ffb6d2579a3f49836a66bf7b4c2" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#785c9ffb6d2579a3f49836a66bf7b4c2">ClearRankingAddresses</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears all addresses added with <a class="el" href="classRakNet_1_1Lobby2Server.html#16a9ef14b0c08f5c01745908666064d5" title="If Lobby2Message::RequiresRankingPermission() returns true, then the system that...">AddRankingAddress()</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#e8e80230834a7900980d3f432987b7a4">SetRoomsPlugin</a> (<a class="el" href="classRakNet_1_1RoomsPlugin.html">RoomsPlugin</a> *rp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To use <a class="el" href="classRakNet_1_1RoomsPlugin.html" title="Used to create rooms for players where they can matchmake.">RoomsPlugin</a> and <a class="el" href="classRakNet_1_1Lobby2Server.html" title="The base class for the lobby server, without database specific functionality.">Lobby2Server</a> together, register <a class="el" href="classRakNet_1_1RoomsPlugin.html" title="Used to create rooms for players where they can matchmake.">RoomsPlugin</a> with this funcrtion.  <a href="#e8e80230834a7900980d3f432987b7a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#5fedfb42550ed287ca9eb2704c2ff3e2">SetRoomsPluginAddress</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is similar to <a class="el" href="classRakNet_1_1Lobby2Server.html#e8e80230834a7900980d3f432987b7a4" title="To use RoomsPlugin and Lobby2Server together, register RoomsPlugin with this funcrtion...">SetRoomsPlugin()</a>, except the plugin is on another system.  <a href="#5fedfb42550ed287ca9eb2704c2ff3e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="35bbe780affcd6e90b39c871947cd324"></a><!-- doxytag: member="RakNet::Lobby2Server::SetConfigurationProperties" ref="35bbe780affcd6e90b39c871947cd324" args="(ConfigurationProperties c)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#35bbe780affcd6e90b39c871947cd324">SetConfigurationProperties</a> (<a class="el" href="structRakNet_1_1Lobby2Server_1_1ConfigurationProperties.html">ConfigurationProperties</a> c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the desired configuration properties. This is read during runtime from threads. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b160cae2c448814f99100a6f66584f6e"></a><!-- doxytag: member="RakNet::Lobby2Server::GetConfigurationProperties" ref="b160cae2c448814f99100a6f66584f6e" args="(void) const " -->
const <a class="el" href="structRakNet_1_1Lobby2Server_1_1ConfigurationProperties.html">ConfigurationProperties</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#b160cae2c448814f99100a6f66584f6e">GetConfigurationProperties</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the previously set configuration properties. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#9d8ec1bac73bac3c2eefe6f6b0f700d7">SetPresence</a> (const <a class="el" href="structRakNet_1_1Lobby2Presence.html">RakNet::Lobby2Presence</a> &amp;presence, <a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> userHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#a498fdb38fcac5e2391ab38cca3c5a5d">GetPresence</a> (<a class="el" href="structRakNet_1_1Lobby2Presence.html">RakNet::Lobby2Presence</a> &amp;presence, <a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> userHandle)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0be4a5360e7a8480a11f18e80854e264"></a><!-- doxytag: member="RakNet::Lobby2Server::Update" ref="0be4a5360e7a8480a11f18e80854e264" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#0be4a5360e7a8480a11f18e80854e264">Update</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update is called every time a packet is checked for . <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#daaaf6224637d7200f0d7f7edfc81199">OnReceive</a> (<a class="el" href="structRakNet_1_1Packet.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Lobby2Server.html#952a04e660977f17b0785586e720f885">OnClosedConnection</a> (const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;systemAddress, <a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a> rakNetGUID, <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a> lostConnectionReason)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The base class for the lobby server, without database specific functionality. 
<p>
This is a plugin which will take incoming messages via Lobby2Client_PC::SendMsg(), process them, and send back the same messages with output and a result code Unlike the first implementation of the lobby server, this is a thin plugin that mostly just sends messages to threads and sends back the results. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="499cbfd420d6a6caecd62a8143a641da"></a><!-- doxytag: member="RakNet::Lobby2Server::AddAdminAddress" ref="499cbfd420d6a6caecd62a8143a641da" args="(SystemAddress addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::AddAdminAddress           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If <a class="el" href="structRakNet_1_1Lobby2Message.html#79cbb400e4521af2c353fbd640fed0f7">Lobby2Message::RequiresAdmin()</a> returns true, the message can only be processed from a remote system if the sender's system address is first added(). 
<p>
This is useful if you want to administrate the server remotely 
</div>
</div><p>
<a class="anchor" name="16a9ef14b0c08f5c01745908666064d5"></a><!-- doxytag: member="RakNet::Lobby2Server::AddRankingAddress" ref="16a9ef14b0c08f5c01745908666064d5" args="(SystemAddress addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::AddRankingAddress           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If <a class="el" href="structRakNet_1_1Lobby2Message.html#3eab67e30f491cd3410b9d850ffcecea">Lobby2Message::RequiresRankingPermission()</a> returns true, then the system that sent the command must be registered with <a class="el" href="classRakNet_1_1Lobby2Server.html#16a9ef14b0c08f5c01745908666064d5" title="If Lobby2Message::RequiresRankingPermission() returns true, then the system that...">AddRankingAddress()</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>addr</em>&nbsp;</td><td>Address to allow </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6a8918f9399834397ca99882846587b8"></a><!-- doxytag: member="RakNet::Lobby2Server::ConnectToDB" ref="6a8918f9399834397ca99882846587b8" args="(const char *conninfo, int numWorkerThreads)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool RakNet::Lobby2Server::ConnectToDB           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>conninfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numWorkerThreads</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connect to the database <em>numWorkerThreads</em> times using the connection string. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>conninfo</em>&nbsp;</td><td>See the postgre docs </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True on success, false on failure. </dd></dl>

<p>Implemented in <a class="el" href="classRakNet_1_1Lobby2Server__PGSQL.html#f13eb48d97018c7bda526a587c0aaefc">RakNet::Lobby2Server_PGSQL</a>.</p>

</div>
</div><p>
<a class="anchor" name="3db350e8d2e35e6a40f43ee4026bff20"></a><!-- doxytag: member="RakNet::Lobby2Server::ExecuteCommand" ref="3db350e8d2e35e6a40f43ee4026bff20" args="(Lobby2ServerCommand *command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::ExecuteCommand           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Lobby2ServerCommand.html">Lobby2ServerCommand</a> *&nbsp;</td>
          <td class="paramname"> <em>command</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a command, which contains a message and other data such as who send the message. 
<p>
The command will be processed according to its implemented virtual functions. Most likely it will be processed in a thread to run database commands 
</div>
</div><p>
<a class="anchor" name="a498fdb38fcac5e2391ab38cca3c5a5d"></a><!-- doxytag: member="RakNet::Lobby2Server::GetPresence" ref="a498fdb38fcac5e2391ab38cca3c5a5d" args="(RakNet::Lobby2Presence &amp;presence, RakNet::RakString userHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::GetPresence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Lobby2Presence.html">RakNet::Lobby2Presence</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>presence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td>
          <td class="paramname"> <em>userHandle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the presence of a logged in user, by handle <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>presence</em>&nbsp;</td><td>Presence info of requested user </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>userHandle</em>&nbsp;</td><td>Handle of the user </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d72697445e87c271d0edbf1f9ecab1aa"></a><!-- doxytag: member="RakNet::Lobby2Server::HasRankingAddress" ref="d72697445e87c271d0edbf1f9ecab1aa" args="(const DataStructures::List&lt; SystemAddress &gt; &amp;addresses)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RakNet::Lobby2Server::HasRankingAddress           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>addresses</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns if an address was previously added with <a class="el" href="classRakNet_1_1Lobby2Server.html#16a9ef14b0c08f5c01745908666064d5" title="If Lobby2Message::RequiresRankingPermission() returns true, then the system that...">AddRankingAddress()</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>addr</em>&nbsp;</td><td>Address to check </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="952a04e660977f17b0785586e720f885"></a><!-- doxytag: member="RakNet::Lobby2Server::OnClosedConnection" ref="952a04e660977f17b0785586e720f885" args="(const SystemAddress &amp;systemAddress, RakNetGUID rakNetGUID, PI2_LostConnectionReason lostConnectionReason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::OnClosedConnection           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a>&nbsp;</td>
          <td class="paramname"> <em>rakNetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a>&nbsp;</td>
          <td class="paramname"> <em>lostConnectionReason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connection is dropped because the user called <a class="el" href="classRakNet_1_1RakPeer.html#95e3806fce8552e322236abcf105cbf9" title="Close the connection to another host (if we initiated the connection it will disconnect...">RakPeer::CloseConnection()</a> for a particular system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system whose connection was closed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rakNetGuid</em>&nbsp;</td><td>The guid of the specified system </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lostConnectionReason</em>&nbsp;</td><td>How the connection was closed: manually, connection lost, or notification of disconnection </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#80c7612ca1a5dcfeec0b52d8049a71ea">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="daaaf6224637d7200f0d7f7edfc81199"></a><!-- doxytag: member="RakNet::Lobby2Server::OnReceive" ref="daaaf6224637d7200f0d7f7edfc81199" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a> RakNet::Lobby2Server::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Packet.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#a86f33263c1648f11b8a006469272639">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="29356d89b8170173ee25de6a355b276e"></a><!-- doxytag: member="RakNet::Lobby2Server::RemoveRankingAddress" ref="29356d89b8170173ee25de6a355b276e" args="(SystemAddress addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::RemoveRankingAddress           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes an addressed added with <a class="el" href="classRakNet_1_1Lobby2Server.html#16a9ef14b0c08f5c01745908666064d5" title="If Lobby2Message::RequiresRankingPermission() returns true, then the system that...">AddRankingAddress()</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>addr</em>&nbsp;</td><td>Address to check </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="533aac181789e75173beb4a365ca1889"></a><!-- doxytag: member="RakNet::Lobby2Server::SendMsg" ref="533aac181789e75173beb4a365ca1889" args="(Lobby2Message *msg, const DataStructures::List&lt; SystemAddress &gt; &amp;recipients)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::SendMsg           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Lobby2Message.html">Lobby2Message</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>recipients</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="structRakNet_1_1Lobby2Message.html" title="A Lobby2Message encapsulates a networked function call from the client.">Lobby2Message</a> encapsulates a user command, containing both input and output data. 
<p>
This will serialize and transmit that command 
</div>
</div><p>
<a class="anchor" name="9d8ec1bac73bac3c2eefe6f6b0f700d7"></a><!-- doxytag: member="RakNet::Lobby2Server::SetPresence" ref="9d8ec1bac73bac3c2eefe6f6b0f700d7" args="(const RakNet::Lobby2Presence &amp;presence, RakNet::RakString userHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::SetPresence           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRakNet_1_1Lobby2Presence.html">RakNet::Lobby2Presence</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>presence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td>
          <td class="paramname"> <em>userHandle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the presence of a logged in user <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>presence</em>&nbsp;</td><td>Presence info of this user </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e8e80230834a7900980d3f432987b7a4"></a><!-- doxytag: member="RakNet::Lobby2Server::SetRoomsPlugin" ref="e8e80230834a7900980d3f432987b7a4" args="(RoomsPlugin *rp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::SetRoomsPlugin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RoomsPlugin.html">RoomsPlugin</a> *&nbsp;</td>
          <td class="paramname"> <em>rp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
To use <a class="el" href="classRakNet_1_1RoomsPlugin.html" title="Used to create rooms for players where they can matchmake.">RoomsPlugin</a> and <a class="el" href="classRakNet_1_1Lobby2Server.html" title="The base class for the lobby server, without database specific functionality.">Lobby2Server</a> together, register <a class="el" href="classRakNet_1_1RoomsPlugin.html" title="Used to create rooms for players where they can matchmake.">RoomsPlugin</a> with this funcrtion. 
<p>
The rooms plugin does not automatically handle users logging in and logging off, or renaming users. You can have <a class="el" href="classRakNet_1_1Lobby2Server.html" title="The base class for the lobby server, without database specific functionality.">Lobby2Server</a> manage this for you by calling <a class="el" href="classRakNet_1_1Lobby2Server.html#e8e80230834a7900980d3f432987b7a4" title="To use RoomsPlugin and Lobby2Server together, register RoomsPlugin with this funcrtion...">SetRoomsPlugin()</a> with a pointer to the rooms plugin, if it is on the local system. This will call <a class="el" href="classRakNet_1_1RoomsPlugin.html#576456ad92b65ac2a65ddfb2cc8263eb" title="Add a participant to the system.">RoomsPlugin::LoginRoomsParticipant()</a> and <a class="el" href="classRakNet_1_1RoomsPlugin.html#c08db9467e22f1227acc34cce7ffdb33" title="Removes a participant from the system.">RoomsPlugin::LogoffRoomsParticipant()</a> as the messages L2MID_Client_Login and L2MID_Client_Logoff arrive This will use the pointer to <a class="el" href="classRakNet_1_1RoomsPlugin.html" title="Used to create rooms for players where they can matchmake.">RoomsPlugin</a> directly. Setting this will disable <a class="el" href="classRakNet_1_1Lobby2Server.html#5fedfb42550ed287ca9eb2704c2ff3e2" title="This is similar to SetRoomsPlugin(), except the plugin is on another system.">SetRoomsPluginAddress()</a> <dl class="note" compact><dt><b>Note:</b></dt><dd>This is an empty function. You must define __INTEGRATE_LOBBY2_WITH_ROOMS_PLUGIN and link with <a class="el" href="RoomsPlugin_8h.html" title="Adds networking to AllGamesRoomsContainer. Lets you create, join, search, and destroy...">RoomsPlugin.h</a> to use it() </dd></dl>

</div>
</div><p>
<a class="anchor" name="5fedfb42550ed287ca9eb2704c2ff3e2"></a><!-- doxytag: member="RakNet::Lobby2Server::SetRoomsPluginAddress" ref="5fedfb42550ed287ca9eb2704c2ff3e2" args="(SystemAddress address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::Lobby2Server::SetRoomsPluginAddress           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is similar to <a class="el" href="classRakNet_1_1Lobby2Server.html#e8e80230834a7900980d3f432987b7a4" title="To use RoomsPlugin and Lobby2Server together, register RoomsPlugin with this funcrtion...">SetRoomsPlugin()</a>, except the plugin is on another system. 
<p>
This will set the system address of that system to send the login and logoff commands to. For this function to work, you must first call <a class="el" href="classRakNet_1_1RoomsPlugin.html#2f7d51bd655dad92b8d72c67957a62b4" title="Add a SystemAddress to a list that will be checked when LoginRoomsParticipant() and...">RoomsPlugin::AddLoginServerAddress()</a> so that <a class="el" href="classRakNet_1_1RoomsPlugin.html" title="Used to create rooms for players where they can matchmake.">RoomsPlugin</a> will accept the incoming login and logoff messages. <dl class="note" compact><dt><b>Note:</b></dt><dd>This is an empty function. You must define __INTEGRATE_LOBBY2_WITH_ROOMS_PLUGIN and link with <a class="el" href="RoomsPlugin_8h.html" title="Adds networking to AllGamesRoomsContainer. Lets you create, join, search, and destroy...">RoomsPlugin.h</a> to use it() </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/temp/RakNet_PC/DependentExtensions/Lobby2/Lobby2Server.h</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 1 13:33:50 2012 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
