<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: RakNet::AutopatcherServer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceRakNet.html">RakNet</a>::<a class="el" href="classRakNet_1_1AutopatcherServer.html">AutopatcherServer</a>
  </div>
</div>
<div class="contents">
<h1>RakNet::AutopatcherServer Class Reference</h1><!-- doxytag: class="RakNet::AutopatcherServer" --><!-- doxytag: inherits="RakNet::PluginInterface2,ThreadDataInterface,RakNet::FileListProgress,RakNet::IncrementalReadInterface" -->The server plugin for the autopatcher. Must be running for the client to get patches.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;AutopatcherServer.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for RakNet::AutopatcherServer:</div>
<div class="dynsection">

<p><center><img src="classRakNet_1_1AutopatcherServer.png" usemap="#RakNet::AutopatcherServer_map" border="0" alt=""></center>
<map name="RakNet::AutopatcherServer_map">
<area href="classRakNet_1_1PluginInterface2.html" alt="RakNet::PluginInterface2" shape="rect" coords="0,0,166,24">
<area href="classRakNet_1_1FileListProgress.html" alt="RakNet::FileListProgress" shape="rect" coords="176,0,342,24">
</map>
</div>

<p>
<a href="classRakNet_1_1AutopatcherServer-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRakNet_1_1AutopatcherServer_1_1ResultTypeAndBitstream.html">ResultTypeAndBitstream</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#075b43cf2cf1f4cbb7b693c2366ca920">StartThreads</a> (int numThreads, int numSQLConnections, <a class="el" href="classRakNet_1_1AutopatcherRepositoryInterface.html">AutopatcherRepositoryInterface</a> **sqlConnectionPtrArray)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#ecfcbf7f0054b29890b5a3477c7874af">CacheMostRecentPatch</a> (const char *applicationName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#4a384c501c90377afd60e3424dd2633c">SetUploadSendParameters</a> (<a class="el" href="PacketPriority_8h.html#659378374e516180f93640c79f59705c">PacketPriority</a> _priority, char _orderingChannel)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#c39d86dcda2c9566310335cf36eb1ed1">SetFileListTransferPlugin</a> (<a class="el" href="classRakNet_1_1FileListTransfer.html">FileListTransfer</a> *flt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#b23dced0b7e1c29e8cf02561a6b6ef2e">SetMaxConurrentUsers</a> (unsigned int _maxConcurrentUsers)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#dd10b676cc7641eac267cf69e9ab43c2">SetLoadManagementCallback</a> (AutopatcherServerLoadNotifier *asumc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="52e9ec17aab14603f6e763b5e9cd90d0"></a><!-- doxytag: member="RakNet::AutopatcherServer::Clear" ref="52e9ec17aab14603f6e763b5e9cd90d0" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#52e9ec17aab14603f6e763b5e9cd90d0">Clear</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear buffered input and output. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a296ea3a2b8f5965e9b389f18f8fa52e"></a><!-- doxytag: member="RakNet::AutopatcherServer::OnAttach" ref="a296ea3a2b8f5965e9b389f18f8fa52e" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#a296ea3a2b8f5965e9b389f18f8fa52e">OnAttach</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when the interface is attached. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1c4f03310eb410dd6002f90c2126f7c2"></a><!-- doxytag: member="RakNet::AutopatcherServer::OnDetach" ref="1c4f03310eb410dd6002f90c2126f7c2" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#1c4f03310eb410dd6002f90c2126f7c2">OnDetach</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when the interface is detached. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6f97c301d0d0fd46d6865a81ea8bec5e"></a><!-- doxytag: member="RakNet::AutopatcherServer::Update" ref="6f97c301d0d0fd46d6865a81ea8bec5e" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#6f97c301d0d0fd46d6865a81ea8bec5e">Update</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update is called every time a packet is checked for . <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#1382dcb0946c9473dbad8416b2a59e2e">OnReceive</a> (<a class="el" href="structRakNet_1_1Packet.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#76414a1d46ea3bd2d3401c4f64b70146">OnClosedConnection</a> (const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;systemAddress, <a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a> rakNetGUID, <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a> lostConnectionReason)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c38673279ffbe8c3cfb1ca6b84bd6490"></a><!-- doxytag: member="RakNet::AutopatcherServer::OnFilePushesComplete" ref="c38673279ffbe8c3cfb1ca6b84bd6490" args="(SystemAddress systemAddress, unsigned short setID)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#c38673279ffbe8c3cfb1ca6b84bd6490">OnFilePushesComplete</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> systemAddress, unsigned short setID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when all files have been read and are being transferred to a remote system. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="56b19dc1c42566159109bd473a749d45"></a><!-- doxytag: member="RakNet::AutopatcherServer::OnSendAborted" ref="56b19dc1c42566159109bd473a749d45" args="(SystemAddress systemAddress)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1AutopatcherServer.html#56b19dc1c42566159109bd473a749d45">OnSendAborted</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> systemAddress)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when a send to a system was aborted (probably due to disconnection). <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The server plugin for the autopatcher. Must be running for the client to get patches. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ecfcbf7f0054b29890b5a3477c7874af"></a><!-- doxytag: member="RakNet::AutopatcherServer::CacheMostRecentPatch" ref="ecfcbf7f0054b29890b5a3477c7874af" args="(const char *applicationName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::AutopatcherServer::CacheMostRecentPatch           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>applicationName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load the most recent patch in memory and keep it there This can take a lot of memory, but greatly speeds up serving patches, since disk access is not incurred <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>applicationName</em>&nbsp;</td><td>0 means all, otherwise the name of the application to cache </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="76414a1d46ea3bd2d3401c4f64b70146"></a><!-- doxytag: member="RakNet::AutopatcherServer::OnClosedConnection" ref="76414a1d46ea3bd2d3401c4f64b70146" args="(const SystemAddress &amp;systemAddress, RakNetGUID rakNetGUID, PI2_LostConnectionReason lostConnectionReason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::AutopatcherServer::OnClosedConnection           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a>&nbsp;</td>
          <td class="paramname"> <em>rakNetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a>&nbsp;</td>
          <td class="paramname"> <em>lostConnectionReason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connection is dropped because the user called <a class="el" href="classRakNet_1_1RakPeer.html#95e3806fce8552e322236abcf105cbf9" title="Close the connection to another host (if we initiated the connection it will disconnect...">RakPeer::CloseConnection()</a> for a particular system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system whose connection was closed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rakNetGuid</em>&nbsp;</td><td>The guid of the specified system </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lostConnectionReason</em>&nbsp;</td><td>How the connection was closed: manually, connection lost, or notification of disconnection </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#80c7612ca1a5dcfeec0b52d8049a71ea">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="1382dcb0946c9473dbad8416b2a59e2e"></a><!-- doxytag: member="RakNet::AutopatcherServer::OnReceive" ref="1382dcb0946c9473dbad8416b2a59e2e" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a> RakNet::AutopatcherServer::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Packet.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#a86f33263c1648f11b8a006469272639">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="c39d86dcda2c9566310335cf36eb1ed1"></a><!-- doxytag: member="RakNet::AutopatcherServer::SetFileListTransferPlugin" ref="c39d86dcda2c9566310335cf36eb1ed1" args="(FileListTransfer *flt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::AutopatcherServer::SetFileListTransferPlugin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1FileListTransfer.html">FileListTransfer</a> *&nbsp;</td>
          <td class="paramname"> <em>flt</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This plugin has a dependency on the <a class="el" href="classRakNet_1_1FileListTransfer.html" title="A plugin to provide a simple way to compress and incrementally send the files in...">FileListTransfer</a> plugin, which it uses to actually send the files. So you need an instance of that plugin registered with <a class="el" href="classRakNet_1_1RakPeerInterface.html" title="The main interface for network communications.">RakPeerInterface</a>, and a pointer to that interface should be passed here. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>flt</em>&nbsp;</td><td>A pointer to a registered instance of <a class="el" href="classRakNet_1_1FileListTransfer.html" title="A plugin to provide a simple way to compress and incrementally send the files in...">FileListTransfer</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="dd10b676cc7641eac267cf69e9ab43c2"></a><!-- doxytag: member="RakNet::AutopatcherServer::SetLoadManagementCallback" ref="dd10b676cc7641eac267cf69e9ab43c2" args="(AutopatcherServerLoadNotifier *asumc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::AutopatcherServer::SetLoadManagementCallback           </td>
          <td>(</td>
          <td class="paramtype">AutopatcherServerLoadNotifier *&nbsp;</td>
          <td class="paramname"> <em>asumc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a callback to get notifications of when user requests are queued and processed This is primarily of use to load balance the server <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>asumc</em>&nbsp;</td><td>An externally allocated instance of AutopatcherServerLoadNotifier. Pass 0 to disable. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b23dced0b7e1c29e8cf02561a6b6ef2e"></a><!-- doxytag: member="RakNet::AutopatcherServer::SetMaxConurrentUsers" ref="b23dced0b7e1c29e8cf02561a6b6ef2e" args="(unsigned int _maxConcurrentUsers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::AutopatcherServer::SetMaxConurrentUsers           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>_maxConcurrentUsers</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the maximum number of users the patcher will service at one time (generally about equal to the number of downloads at once) If this limit is exceeded, the request packet will be put into a queue and serviced when slots are available Defaults to 0 (unlimited) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>maxConcurrentUsers</em>&nbsp;</td><td>Pass 0 for unlimited, otherwise the max users to serve at once </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4a384c501c90377afd60e3424dd2633c"></a><!-- doxytag: member="RakNet::AutopatcherServer::SetUploadSendParameters" ref="4a384c501c90377afd60e3424dd2633c" args="(PacketPriority _priority, char _orderingChannel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::AutopatcherServer::SetUploadSendParameters           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="PacketPriority_8h.html#659378374e516180f93640c79f59705c">PacketPriority</a>&nbsp;</td>
          <td class="paramname"> <em>_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>_orderingChannel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
What parameters to use for the <a class="el" href="classRakNet_1_1RakPeerInterface.html#543ec5be9cf5f73f5c8733d1829789f9">RakPeerInterface::Send()</a> call when uploading files. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_priority</em>&nbsp;</td><td>See <a class="el" href="classRakNet_1_1RakPeerInterface.html#543ec5be9cf5f73f5c8733d1829789f9">RakPeerInterface::Send()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_orderingChannel</em>&nbsp;</td><td>See <a class="el" href="classRakNet_1_1RakPeerInterface.html#543ec5be9cf5f73f5c8733d1829789f9">RakPeerInterface::Send()</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="075b43cf2cf1f4cbb7b693c2366ca920"></a><!-- doxytag: member="RakNet::AutopatcherServer::StartThreads" ref="075b43cf2cf1f4cbb7b693c2366ca920" args="(int numThreads, int numSQLConnections, AutopatcherRepositoryInterface **sqlConnectionPtrArray)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::AutopatcherServer::StartThreads           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numSQLConnections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1AutopatcherRepositoryInterface.html">AutopatcherRepositoryInterface</a> **&nbsp;</td>
          <td class="paramname"> <em>sqlConnectionPtrArray</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DO THIS FIRST Implement to start the worker threads. Before this is called, no queries will be performed When this is called, AllocAutopatcherRepositoryInterface will be called with <em>repositoryAllocationParameters</em> The system works in three phases. 1. Get change list since a given date. This uses one of the worker threads. 2. If either running a full scan, or files have changed since a given date, get the list of patches. This uses one of the worker threads and does an intensive comparison of the hashes the client has vs. the files in the database 3. If the total amount of data to be sent exceeds DATABASE_READ_CHUNK_SIZE, defined in the cpp file, then the database will be read from incrementally during this download phase. This uses an sql connection object, which may or may not be also in use by one of the threads. If you have more sql connections than threads, this tends to prevent the same connection from being used to incrementally read files for a downloader, and to be used in a worker thread. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numThreads</em>&nbsp;</td><td>Number of processing threads, which handles the CPU intensive tasks of generating a patch list and comparing files </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numSQLConnections</em>&nbsp;</td><td>Number of SQL connection objects passed to <em>sqlConnectionPtrArray</em>. Must be greater than or equal to numThreads </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>sqlConnectionPtrArray</em>&nbsp;</td><td>List of pointers to <a class="el" href="classRakNet_1_1AutopatcherRepositoryInterface.html" title="An interface used by AutopatcherServer to get the data necessary to run an autopatcher...">AutopatcherRepositoryInterface</a>. C++ note: Don't just cast a derived class array, you need to take the pointer address of each item </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/temp/RakNet_PC/DependentExtensions/Autopatcher/<a class="el" href="AutopatcherServer_8h.html">AutopatcherServer.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 1 13:33:48 2012 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
