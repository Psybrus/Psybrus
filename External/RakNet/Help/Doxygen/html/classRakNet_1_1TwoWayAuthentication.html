<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: RakNet::TwoWayAuthentication Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceRakNet.html">RakNet</a>::<a class="el" href="classRakNet_1_1TwoWayAuthentication.html">TwoWayAuthentication</a>
  </div>
</div>
<div class="contents">
<h1>RakNet::TwoWayAuthentication Class Reference<br>
<small>
[<a class="el" href="group__PLUGINS__GROUP.html">Plugins</a>]</small>
</h1><!-- doxytag: class="RakNet::TwoWayAuthentication" --><!-- doxytag: inherits="RakNet::PluginInterface2" -->Implements two way authentication.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;TwoWayAuthentication.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for RakNet::TwoWayAuthentication:</div>
<div class="dynsection">

<p><center><img src="classRakNet_1_1TwoWayAuthentication.png" usemap="#RakNet::TwoWayAuthentication_map" border="0" alt=""></center>
<map name="RakNet::TwoWayAuthentication_map">
<area href="classRakNet_1_1PluginInterface2.html" alt="RakNet::PluginInterface2" shape="rect" coords="0,0,186,24">
</map>
</div>

<p>
<a href="classRakNet_1_1TwoWayAuthentication-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#f3168d8bfabeb0fd17008e514a24736b">AddPassword</a> (<a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> identifier, <a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> password)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a password to the list of passwords the system will accept.  <a href="#f3168d8bfabeb0fd17008e514a24736b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#a2e65f464fc887dc753a351e7e9fb797">Challenge</a> (<a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> identifier, AddressOrGUID remoteSystem)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Challenge another system for the specified identifier.  <a href="#a2e65f464fc887dc753a351e7e9fb797"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d66d0d154535ef461f3ba6be4ac3e14d"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::Clear" ref="d66d0d154535ef461f3ba6be4ac3e14d" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#d66d0d154535ef461f3ba6be4ac3e14d">Clear</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free all memory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="09f52ebca8a86540a1270a76027e9503"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::Update" ref="09f52ebca8a86540a1270a76027e9503" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#09f52ebca8a86540a1270a76027e9503">Update</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update is called every time a packet is checked for . <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#692b2d35df56e4a4c0550808d67864cc">OnReceive</a> (<a class="el" href="structRakNet_1_1Packet.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="21174af5198820e661c3c8ea1bf5c599"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::OnRakPeerShutdown" ref="21174af5198820e661c3c8ea1bf5c599" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#21174af5198820e661c3c8ea1bf5c599">OnRakPeerShutdown</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when <a class="el" href="classRakNet_1_1RakPeer.html" title="Main interface for network communications.">RakPeer</a> is shutdown. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1TwoWayAuthentication.html#d683e107f9c25a5d833b55d547374c02">OnClosedConnection</a> (const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;systemAddress, <a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a> rakNetGUID, <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a> lostConnectionReason)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implements two way authentication. 
<p>
Given two systems, each of whom known a common password / identifier pair, verify the password without transmitting it This can be used to determine what permissions are should be allowed to the other system If the other system should not send any data until authentication passes, you can use the <a class="el" href="classRakNet_1_1MessageFilter.html" title="Assigns systems to FilterSets. Each FilterSet limits what kinds of messages are allowed...">MessageFilter</a> plugin for this. Call <a class="el" href="classRakNet_1_1MessageFilter.html#480178a464758a5c61dffb631a4d37e7">MessageFilter::SetAllowMessageID()</a> including ID_TWO_WAY_AUTHENTICATION_NEGOTIATION when doing so. Also attach <a class="el" href="classRakNet_1_1MessageFilter.html" title="Assigns systems to FilterSets. Each FilterSet limits what kinds of messages are allowed...">MessageFilter</a> first in the list of plugins <dl class="note" compact><dt><b>Note:</b></dt><dd>If other systems challenges us, and fails, you will get ID_TWO_WAY_AUTHENTICATION_INCOMING_CHALLENGE_FAILED. </dd></dl>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f3168d8bfabeb0fd17008e514a24736b"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::AddPassword" ref="f3168d8bfabeb0fd17008e514a24736b" args="(RakNet::RakString identifier, RakNet::RakString password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RakNet::TwoWayAuthentication::AddPassword           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td>
          <td class="paramname"> <em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a password to the list of passwords the system will accept. 
<p>
Each password, which is secret and not transmitted, is identified by <em>identifier</em>. <em>identifier</em> is transmitted in plaintext with the request. It is only needed because the system supports multiple password. It is used to only hash against once password on the remote system, rather than having to hash against every known password. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>identifier</em>&nbsp;</td><td>A unique identifier representing this password. This is transmitted in plaintext and should be considered insecure </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>password</em>&nbsp;</td><td>The password to add </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True on success, false on identifier==password, either identifier or password is blank, or identifier is already in use </dd></dl>

</div>
</div><p>
<a class="anchor" name="a2e65f464fc887dc753a351e7e9fb797"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::Challenge" ref="a2e65f464fc887dc753a351e7e9fb797" args="(RakNet::RakString identifier, AddressOrGUID remoteSystem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RakNet::TwoWayAuthentication::Challenge           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td>
          <td class="paramname"> <em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AddressOrGUID&nbsp;</td>
          <td class="paramname"> <em>remoteSystem</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Challenge another system for the specified identifier. 
<p>
After calling Challenge, you will get back ID_TWO_WAY_AUTHENTICATION_SUCCESS, ID_TWO_WAY_AUTHENTICATION_OUTGOING_CHALLENGE_TIMEOUT, or ID_TWO_WAY_AUTHENTICATION_OUTGOING_CHALLENGE_FAILED ID_TWO_WAY_AUTHENTICATION_SUCCESS will be returned if and only if the other system has called <a class="el" href="classRakNet_1_1TwoWayAuthentication.html#f3168d8bfabeb0fd17008e514a24736b" title="Adds a password to the list of passwords the system will accept.">AddPassword()</a> with the same identifier pair as this system. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>identifier</em>&nbsp;</td><td>A unique identifier representing this password. This is transmitted in plaintext and should be considered insecure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True on success, false on remote system not connected, or identifier not previously added with <a class="el" href="classRakNet_1_1TwoWayAuthentication.html#f3168d8bfabeb0fd17008e514a24736b" title="Adds a password to the list of passwords the system will accept.">AddPassword()</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="d683e107f9c25a5d833b55d547374c02"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::OnClosedConnection" ref="d683e107f9c25a5d833b55d547374c02" args="(const SystemAddress &amp;systemAddress, RakNetGUID rakNetGUID, PI2_LostConnectionReason lostConnectionReason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::TwoWayAuthentication::OnClosedConnection           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a>&nbsp;</td>
          <td class="paramname"> <em>rakNetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a>&nbsp;</td>
          <td class="paramname"> <em>lostConnectionReason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connection is dropped because the user called <a class="el" href="classRakNet_1_1RakPeer.html#95e3806fce8552e322236abcf105cbf9" title="Close the connection to another host (if we initiated the connection it will disconnect...">RakPeer::CloseConnection()</a> for a particular system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system whose connection was closed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rakNetGuid</em>&nbsp;</td><td>The guid of the specified system </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lostConnectionReason</em>&nbsp;</td><td>How the connection was closed: manually, connection lost, or notification of disconnection </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#80c7612ca1a5dcfeec0b52d8049a71ea">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="692b2d35df56e4a4c0550808d67864cc"></a><!-- doxytag: member="RakNet::TwoWayAuthentication::OnReceive" ref="692b2d35df56e4a4c0550808d67864cc" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a> RakNet::TwoWayAuthentication::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Packet.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#a86f33263c1648f11b8a006469272639">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/temp/RakNet_PC/Source/<a class="el" href="TwoWayAuthentication_8h.html">TwoWayAuthentication.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 1 13:33:48 2012 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
