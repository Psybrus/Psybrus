<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: RakNet::FileListTransfer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceRakNet.html">RakNet</a>::<a class="el" href="classRakNet_1_1FileListTransfer.html">FileListTransfer</a>
  </div>
</div>
<div class="contents">
<h1>RakNet::FileListTransfer Class Reference<br>
<small>
[<a class="el" href="group__FILE__LIST__TRANSFER__GROUP.html">FileListTransfer</a>]</small>
</h1><!-- doxytag: class="RakNet::FileListTransfer" --><!-- doxytag: inherits="RakNet::PluginInterface2" -->A plugin to provide a simple way to compress and incrementally send the files in the FileList structure.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;FileListTransfer.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for RakNet::FileListTransfer:</div>
<div class="dynsection">

<p><center><img src="classRakNet_1_1FileListTransfer.png" usemap="#RakNet::FileListTransfer_map" border="0" alt=""></center>
<map name="RakNet::FileListTransfer_map">
<area href="classRakNet_1_1PluginInterface2.html" alt="RakNet::PluginInterface2" shape="rect" coords="0,0,150,24">
</map>
</div>

<p>
<a href="classRakNet_1_1FileListTransfer-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#8c1f54b625bc32b6789e92ff76639527">StartIncrementalReadThreads</a> (int numThreads, int threadPriority=-99999)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optionally start worker threads when using _incrementalReadInterface for the <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">Send()</a> operation.  <a href="#8c1f54b625bc32b6789e92ff76639527"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#fc31c7d166bfb3fb60944624e27ce388">SetupReceive</a> (<a class="el" href="classRakNet_1_1FileListTransferCBInterface.html">FileListTransferCBInterface</a> *handler, bool deleteHandler, <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> allowedSender)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allows one corresponding <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">Send()</a> call from another system to arrive.  <a href="#fc31c7d166bfb3fb60944624e27ce388"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2">Send</a> (FileList *fileList, <a class="el" href="classRakNet_1_1RakPeerInterface.html">RakNet::RakPeerInterface</a> *rakPeer, <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> recipient, unsigned short setID, <a class="el" href="PacketPriority_8h.html#659378374e516180f93640c79f59705c">PacketPriority</a> priority, char orderingChannel, IncrementalReadInterface *_incrementalReadInterface=0, unsigned int _chunkSize=262144 *4 *16)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send the FileList structure to another system, which must have previously called <a class="el" href="classRakNet_1_1FileListTransfer.html#fc31c7d166bfb3fb60944624e27ce388" title="Allows one corresponding Send() call from another system to arrive.">SetupReceive()</a>.  <a href="#e0dd9c15eb9b045a2a912da9772271e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4d7662f9112a282c81b3e5a937e560c"></a><!-- doxytag: member="RakNet::FileListTransfer::GetPendingFilesToAddress" ref="a4d7662f9112a282c81b3e5a937e560c" args="(SystemAddress recipient)" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#a4d7662f9112a282c81b3e5a937e560c">GetPendingFilesToAddress</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> recipient)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return number of files waiting to go out to a particular address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5a266f4cb940bdc3d7a55955baaa53d6"></a><!-- doxytag: member="RakNet::FileListTransfer::CancelReceive" ref="5a266f4cb940bdc3d7a55955baaa53d6" args="(unsigned short setId)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#5a266f4cb940bdc3d7a55955baaa53d6">CancelReceive</a> (unsigned short setId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop a download. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="03ec53d3caf5d7c1471ac643b1340c76"></a><!-- doxytag: member="RakNet::FileListTransfer::RemoveReceiver" ref="03ec53d3caf5d7c1471ac643b1340c76" args="(SystemAddress systemAddress)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#03ec53d3caf5d7c1471ac643b1340c76">RemoveReceiver</a> (<a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> systemAddress)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove all handlers associated with a particular system address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6ed2ccc350c63e729edce82afb1bd79f"></a><!-- doxytag: member="RakNet::FileListTransfer::IsHandlerActive" ref="6ed2ccc350c63e729edce82afb1bd79f" args="(unsigned short setId)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#6ed2ccc350c63e729edce82afb1bd79f">IsHandlerActive</a> (unsigned short setId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is a handler passed to SetupReceive still running? <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#0212731880b8561cc62adb6b3d78a4d1">AddCallback</a> (<a class="el" href="classRakNet_1_1FileListProgress.html">FileListProgress</a> *cb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a callback to get progress reports about what the file list instances do.  <a href="#0212731880b8561cc62adb6b3d78a4d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#086b23597cfd50682b1e1cfdd5c4cda8">RemoveCallback</a> (<a class="el" href="classRakNet_1_1FileListProgress.html">FileListProgress</a> *cb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a callback.  <a href="#086b23597cfd50682b1e1cfdd5c4cda8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b8f81c5f19c456b1ab65db67e5fa91b9"></a><!-- doxytag: member="RakNet::FileListTransfer::ClearCallbacks" ref="b8f81c5f19c456b1ab65db67e5fa91b9" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#b8f81c5f19c456b1ab65db67e5fa91b9">ClearCallbacks</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes all callbacks. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#bf2a70a13e0507d57be3197107f50a5c">GetCallbacks</a> (<a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="classRakNet_1_1FileListProgress.html">FileListProgress</a> * &gt; &amp;callbacks)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#fc5dc95534da3a6e812dcc7d045bb9cd">OnReceive</a> (<a class="el" href="structRakNet_1_1Packet.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5f3d8f286e7748fa4c84bd4d4b58df22"></a><!-- doxytag: member="RakNet::FileListTransfer::OnRakPeerShutdown" ref="5f3d8f286e7748fa4c84bd4d4b58df22" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#5f3d8f286e7748fa4c84bd4d4b58df22">OnRakPeerShutdown</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when <a class="el" href="classRakNet_1_1RakPeer.html" title="Main interface for network communications.">RakPeer</a> is shutdown. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#8636e4e2e29274a755495a5cee238a85">OnClosedConnection</a> (const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;systemAddress, <a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a> rakNetGUID, <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a> lostConnectionReason)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="552b65aef0df062b95748a29b823e9a4"></a><!-- doxytag: member="RakNet::FileListTransfer::Update" ref="552b65aef0df062b95748a29b823e9a4" args="(void)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1FileListTransfer.html#552b65aef0df062b95748a29b823e9a4">Update</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update is called every time a packet is checked for . <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A plugin to provide a simple way to compress and incrementally send the files in the FileList structure. 
<p>
Similar to the DirectoryDeltaTransfer plugin, except that it doesn't send deltas based on pre-existing files or actually write the files to disk.<p>
Usage: Call SetupReceive to allow one file set to arrive. The value returned by <a class="el" href="classRakNet_1_1FileListTransfer.html#fc31c7d166bfb3fb60944624e27ce388" title="Allows one corresponding Send() call from another system to arrive.">FileListTransfer::SetupReceive()</a> is the setID that is allowed. It's up to you to transmit this value to the other system, along with information indicating what kind of files you want to get. The other system should then prepare a FileList and call <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">FileListTransfer::Send()</a>, passing the return value of <a class="el" href="classRakNet_1_1FileListTransfer.html#fc31c7d166bfb3fb60944624e27ce388" title="Allows one corresponding Send() call from another system to arrive.">FileListTransfer::SetupReceive()</a> as the <em>setID</em> parameter to <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">FileListTransfer::Send()</a> <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="0212731880b8561cc62adb6b3d78a4d1"></a><!-- doxytag: member="RakNet::FileListTransfer::AddCallback" ref="0212731880b8561cc62adb6b3d78a4d1" args="(FileListProgress *cb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::FileListTransfer::AddCallback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1FileListProgress.html">FileListProgress</a> *&nbsp;</td>
          <td class="paramname"> <em>cb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a callback to get progress reports about what the file list instances do. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cb</em>&nbsp;</td><td>A pointer to an externally defined instance of <a class="el" href="classRakNet_1_1FileListProgress.html" title="Callback interface set with FileList::SetCallback() in case you want progress notifications...">FileListProgress</a>. This pointer is held internally, so should remain valid as long as this class is valid. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bf2a70a13e0507d57be3197107f50a5c"></a><!-- doxytag: member="RakNet::FileListTransfer::GetCallbacks" ref="bf2a70a13e0507d57be3197107f50a5c" args="(DataStructures::List&lt; FileListProgress * &gt; &amp;callbacks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::FileListTransfer::GetCallbacks           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="classRakNet_1_1FileListProgress.html">FileListProgress</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>callbacks</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns all callbacks added with <a class="el" href="classRakNet_1_1FileListTransfer.html#0212731880b8561cc62adb6b3d78a4d1" title="Adds a callback to get progress reports about what the file list instances do.">AddCallback()</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>callbacks</em>&nbsp;</td><td>The list is set to the list of callbacks </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8636e4e2e29274a755495a5cee238a85"></a><!-- doxytag: member="RakNet::FileListTransfer::OnClosedConnection" ref="8636e4e2e29274a755495a5cee238a85" args="(const SystemAddress &amp;systemAddress, RakNetGUID rakNetGUID, PI2_LostConnectionReason lostConnectionReason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::FileListTransfer::OnClosedConnection           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1RakNetGUID.html">RakNetGUID</a>&nbsp;</td>
          <td class="paramname"> <em>rakNetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g376cc546fd6892c2ead48cd51796c8b8">PI2_LostConnectionReason</a>&nbsp;</td>
          <td class="paramname"> <em>lostConnectionReason</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connection is dropped because the user called <a class="el" href="classRakNet_1_1RakPeer.html#95e3806fce8552e322236abcf105cbf9" title="Close the connection to another host (if we initiated the connection it will disconnect...">RakPeer::CloseConnection()</a> for a particular system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system whose connection was closed </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rakNetGuid</em>&nbsp;</td><td>The guid of the specified system </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lostConnectionReason</em>&nbsp;</td><td>How the connection was closed: manually, connection lost, or notification of disconnection </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#80c7612ca1a5dcfeec0b52d8049a71ea">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc5dc95534da3a6e812dcc7d045bb9cd"></a><!-- doxytag: member="RakNet::FileListTransfer::OnReceive" ref="fc5dc95534da3a6e812dcc7d045bb9cd" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g89998adaafb29e5d879113b992161085">PluginReceiveResult</a> RakNet::FileListTransfer::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1Packet.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>Reimplemented from <a class="el" href="classRakNet_1_1PluginInterface2.html#a86f33263c1648f11b8a006469272639">RakNet::PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="086b23597cfd50682b1e1cfdd5c4cda8"></a><!-- doxytag: member="RakNet::FileListTransfer::RemoveCallback" ref="086b23597cfd50682b1e1cfdd5c4cda8" args="(FileListProgress *cb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::FileListTransfer::RemoveCallback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1FileListProgress.html">FileListProgress</a> *&nbsp;</td>
          <td class="paramname"> <em>cb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a callback. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cb</em>&nbsp;</td><td>A pointer to an externally defined instance of <a class="el" href="classRakNet_1_1FileListProgress.html" title="Callback interface set with FileList::SetCallback() in case you want progress notifications...">FileListProgress</a> that was previously added with <a class="el" href="classRakNet_1_1FileListTransfer.html#0212731880b8561cc62adb6b3d78a4d1" title="Adds a callback to get progress reports about what the file list instances do.">AddCallback()</a> </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e0dd9c15eb9b045a2a912da9772271e2"></a><!-- doxytag: member="RakNet::FileListTransfer::Send" ref="e0dd9c15eb9b045a2a912da9772271e2" args="(FileList *fileList, RakNet::RakPeerInterface *rakPeer, SystemAddress recipient, unsigned short setID, PacketPriority priority, char orderingChannel, IncrementalReadInterface *_incrementalReadInterface=0, unsigned int _chunkSize=262144 *4 *16)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::FileListTransfer::Send           </td>
          <td>(</td>
          <td class="paramtype">FileList *&nbsp;</td>
          <td class="paramname"> <em>fileList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1RakPeerInterface.html">RakNet::RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>rakPeer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>setID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="PacketPriority_8h.html#659378374e516180f93640c79f59705c">PacketPriority</a>&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>orderingChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IncrementalReadInterface *&nbsp;</td>
          <td class="paramname"> <em>_incrementalReadInterface</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>_chunkSize</em> = <code>262144&nbsp;*4&nbsp;*16</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send the FileList structure to another system, which must have previously called <a class="el" href="classRakNet_1_1FileListTransfer.html#fc31c7d166bfb3fb60944624e27ce388" title="Allows one corresponding Send() call from another system to arrive.">SetupReceive()</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fileList</em>&nbsp;</td><td>A list of files. The data contained in FileList::data will be sent incrementally and compressed among all files in the set </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rakPeer</em>&nbsp;</td><td>The instance of <a class="el" href="namespaceRakNet.html" title="Simple class to send changes between directories. In essence, a simple autopatcher...">RakNet</a> to use to send the message. Pass 0 to use the instance the plugin is attached to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>recipient</em>&nbsp;</td><td>The address of the system to send to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>setID</em>&nbsp;</td><td>The return value of <a class="el" href="classRakNet_1_1FileListTransfer.html#fc31c7d166bfb3fb60944624e27ce388" title="Allows one corresponding Send() call from another system to arrive.">SetupReceive()</a> which was previously called on <em>recipient</em> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>priority</em>&nbsp;</td><td>Passed to <a class="el" href="classRakNet_1_1RakPeerInterface.html#543ec5be9cf5f73f5c8733d1829789f9">RakPeerInterface::Send()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>orderingChannel</em>&nbsp;</td><td>Passed to <a class="el" href="classRakNet_1_1RakPeerInterface.html#543ec5be9cf5f73f5c8733d1829789f9">RakPeerInterface::Send()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_incrementalReadInterface</em>&nbsp;</td><td>If a file in <em>fileList</em> has no data, _incrementalReadInterface will be used to read the file in chunks of size <em>chunkSize</em> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_chunkSize</em>&nbsp;</td><td>How large of a block of a file to send at once </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fc31c7d166bfb3fb60944624e27ce388"></a><!-- doxytag: member="RakNet::FileListTransfer::SetupReceive" ref="fc31c7d166bfb3fb60944624e27ce388" args="(FileListTransferCBInterface *handler, bool deleteHandler, SystemAddress allowedSender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short RakNet::FileListTransfer::SetupReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1FileListTransferCBInterface.html">FileListTransferCBInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deleteHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>allowedSender</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allows one corresponding <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">Send()</a> call from another system to arrive. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>handler</em>&nbsp;</td><td>The class to call on each file </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>deleteHandler</em>&nbsp;</td><td>True to delete the handler when it is no longer needed. False to not do so. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>allowedSender</em>&nbsp;</td><td>Which system to allow files from. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A set ID value, which should be passed as the <em>setID</em> value to the <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">Send()</a> call on the other system. This value will be returned in the callback and is unique per file set. Returns 65535 on failure (not connected to sender) </dd></dl>

</div>
</div><p>
<a class="anchor" name="8c1f54b625bc32b6789e92ff76639527"></a><!-- doxytag: member="RakNet::FileListTransfer::StartIncrementalReadThreads" ref="8c1f54b625bc32b6789e92ff76639527" args="(int numThreads, int threadPriority=&#45;99999)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RakNet::FileListTransfer::StartIncrementalReadThreads           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>threadPriority</em> = <code>-99999</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Optionally start worker threads when using _incrementalReadInterface for the <a class="el" href="classRakNet_1_1FileListTransfer.html#e0dd9c15eb9b045a2a912da9772271e2" title="Send the FileList structure to another system, which must have previously called...">Send()</a> operation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numThreads</em>&nbsp;</td><td>how many worker threads to start </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>threadPriority</em>&nbsp;</td><td>Passed to the thread creation routine. Use THREAD_PRIORITY_NORMAL for Windows. For Linux based systems, you MUST pass something reasonable based on the thread priorities for your application. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/temp/RakNet_PC/Source/<a class="el" href="FileListTransfer_8h.html">FileListTransfer.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 1 13:33:47 2012 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
